parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"W2+e":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"f/82":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"6rG3":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"rH1J":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"9JOR":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"f/82","inherits":"6rG3","process":"rH1J"}],"p+dr":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"W2+e","util/":"9JOR"}],"K170":[function(require,module,exports) {
"use strict";function e(e){return"string"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFailure=e;
},{}],"axuK":[function(require,module,exports) {
"use strict";function e(e,a){return t(e)||n(e,a)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,r){var n=[],t=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done)&&(n.push(o.value),!r||n.length!==r);t=!0);}catch(l){a=!0,i=l}finally{try{t||null==u.return||u.return()}finally{if(a)throw i}}return n}function t(e){if(Array.isArray(e))return e}function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e){for(var r=e.reduce(function(e,r,n){return e.set(r.id,{index:n,issue:r,children:[],dependencies:[],dependents:[]})},new Map),n=Array.from(r.values()),t=0,i=n;t<i.length;t++){var o=i[t],u=o.issue,l=u.parent;if(void 0!==l&&l.length>0&&(o.parent=r.get(l),o.parent.children.push(o)),void 0!==u.dependencies){var s=!0,c=!1,d=void 0;try{for(var f,v=u.dependencies[Symbol.iterator]();!(s=(f=v.next()).done);s=!0){var p=f.value,h=r.get(p);h.dependents.push(o),o.dependencies.push(h)}}catch(y){c=!0,d=y}finally{try{s||null==v.return||v.return()}finally{if(c)throw d}}}}return a({},Symbol.iterator,regeneratorRuntime.mark(function e(){var r,t,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,t=!1,a=void 0,e.prev=3,i=n[Symbol.iterator]()[Symbol.iterator]();case 5:if(r=(o=i.next()).done){e.next=13;break}if(void 0!==(u=o.value).parent){e.next=10;break}return e.next=10,u;case 10:r=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),t=!0,a=e.t0;case 19:e.prev=19,e.prev=20,r||null==i.return||i.return();case 22:if(e.prev=22,!t){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,null,[[3,15,19,27],[20,,22,26]])}))}function o(r,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=r[Symbol.iterator](),i=[];;){var o=a.next();if(o.done){if(0===i.length)break;var u,l=e(i.pop(),2);u=l[0],a=l[1],t(u)}else{var s=o.value;n(s),s.children.length>0?(i.push([s,a]),a=s.children[Symbol.iterator]()):t(s)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeForest=i,exports.traverseIssueForest=o;
},{}],"MSyQ":[function(require,module,exports) {
"use strict";function e(e){return"function"==typeof DedicatedWorkerGlobalScope&&e instanceof DedicatedWorkerGlobalScope}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDedicatedWorkerGlobalScope=e,exports.workerFactory=void 0;const o={};exports.workerFactory=o;
},{}],"YLIm":[function(require,module,exports) {
"use strict";var r=require("./worker-interface.js");r.workerFactory.createWorker=(()=>new Worker("/project-planning-for-you-track/worker.25e26f95.js"));
},{"./worker-interface.js":"MSyQ","./worker.js":[["worker.25e26f95.js","JN4w"],"worker.25e26f95.js.map","JN4w"]}],"wVII":[function(require,module,exports) {
"use strict";var t;function e(t){return"string"==typeof t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSchedulingFailure=e,exports.JobSplitting=void 0,exports.JobSplitting=t,function(t){t.NONE="none",t.PREEMPTION="preemption",t.MULTIPLE_MACHINES="multi"}(t||(exports.JobSplitting=t={}));
},{}],"7QYR":[function(require,module,exports) {
"use strict";function r(r){return Math.trunc((r-1)/2)}function t(r){return 2*r+1}function a(r){return 2*r+2}function n(r,t,a){const n=r[t];r[t]=r[a],r[a]=n}function s(r,s,e){let i=e;for(;;){let e=i;const o=t(i);o<r.length&&s(r[o],r[e])<0&&(e=o);const h=a(i);if(h<r.length&&s(r[h],r[e])<0&&(e=h),e===i)break;n(r,i,e),i=e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(r,t){this.comparatorFn_=t,this.array_=Array.from(r);for(let a=Math.trunc(this.array_.length/2)-1;a>=0;--a)s(this.array_,this.comparatorFn_,a)}add(t){this.array_.push(t);let a=this.array_.length-1;for(;;){const t=r(a);if(a<=0||this.comparatorFn_(this.array_[t],this.array_[a])<0)break;n(this.array_,t,a),a=t}}extractMin(){if(0===this.array_.length)return;if(1===this.array_.length)return this.array_.pop();const r=this.array_[0];return this.array_[0]=this.array_.pop(),s(this.array_,this.comparatorFn_,0),r}isEmpty(){return 0===this.array_.length}}var i=e;exports.default=i;
},{}],"aHDr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeSchedule=n;var e=require("./api-types.js"),t=s(require("./minheap.js"));function s(e){return e&&e.__esModule?e:{default:e}}const i=Object.freeze({deliveryTime:0,splitting:e.JobSplitting.PREEMPTION,dependencies:[],releaseTime:0,preAssignment:-1});function n(e){const t=e=>e>=0&&Number.isInteger(e),s=e=>void 0===e||t(e),n=e.machineSpeeds.length,r=e.jobs.length;if(0===n)return"At least one machine is required to compute a schedule.";if(!(e=>0===e.filter(e=>e<=0||!Number.isInteger(e)).length)(e.machineSpeeds)||e.jobs.filter(e=>!t(e.size)||!((...e)=>0===e.filter(e=>!s(e)).length)(e.deliveryTime,e.releaseTime)||!((e,s)=>void 0===s||t(s)&&s<e)(n,e.preAssignment)||void 0!==e.dependencies&&!((e,s)=>0===s.filter(s=>!(s>=0&&t(s)&&s<e)).length)(r,e.dependencies)).length>0||!s(e.minFragmentSize))return"All job processing times and machine speeds need to be non-negative integers. All job dependency and pre-assignment indices need to be within bounds.";const d=e.jobs.map(e=>Object.assign({},i,e)),c=void 0===e.minFragmentSize?0:e.minFragmentSize;return new a(n,e.machineSpeeds,d,c).schedule}class a{constructor(e,t,s,i){this.numMachines_=e,this.machineSpeeds_=t,this.jobs_=s,this.minFragmentSize_=i,this.gapsLists_=this.machineSpeeds_.map(e=>({head:{startTime:Number.MIN_SAFE_INTEGER,endTime:0},tail:{head:{startTime:0,endTime:Number.MAX_SAFE_INTEGER},tail:null}})),this.schedule=this.computeSchedule()}static nextTimeStamp(e,t,s){let i=s.gapsList.head;if(null!==s.currentFragmentStart)return i.endTime;for(;;){const n=Math.max(t,i.startTime)+e;if(n<=i.endTime)return n;s.previousGapsList=s.gapsList,s.gapsList=s.gapsList.tail,i=s.gapsList.head}}adjustGaps(e,t,s){const i=e.currentFragmentStart,n=e.gapsList.head;s&&(i===n.startTime&&t===n.endTime?e.previousGapsList.tail=e.gapsList.tail:i===n.startTime?n.startTime=t:t===n.endTime?(n.endTime=i,e.previousGapsList=e.gapsList):(e.previousGapsList.tail={head:{startTime:n.startTime,endTime:i},tail:e.gapsList},n.startTime=t)),t===n.endTime?e.gapsList=e.gapsList.tail:s||(e.gapsList={head:{startTime:t,endTime:n.endTime},tail:e.gapsList.tail}),e.currentFragmentStart=null}createJobFragment(e,t,s){if(s){const i=e.currentFragmentStart;if(t-i>0){const n={machine:e.index,start:i,end:t,isWaiting:!1};s.push(n)}}this.adjustGaps(e,t,void 0!==s)}scheduleJob(e,t,s,i,n){const r=s?Math.min(t,this.minFragmentSize_):t;let d=0,c=i,l=t;const m=e.map((e,t)=>{const s=this.gapsLists_[e];return{index:e,availableIdx:t,speed:this.machineSpeeds_[e],currentFragmentStart:null,previousGapsList:s,gapsList:s.tail}});for(;l>0;){let t=Number.MAX_SAFE_INTEGER,s=m[0];e.forEach((e,n)=>{const d=Math.ceil(r/m[n].speed),c=a.nextTimeStamp(d,i,m[n]);c<t&&(t=c,s=m[n])});let h=!1;const p=Math.ceil(c+l/d);if(p<t&&(t=p,h=!0),l-=(t-c)*d,!h)if(null===s.currentFragmentStart){const e=s.gapsList.head;s.currentFragmentStart=Math.max(i,e.startTime),l-=(t-s.currentFragmentStart)*s.speed,d+=s.speed}else this.createJobFragment(s,t,n),d-=s.speed;c=t}return e.forEach((e,t)=>{null!==m[t].currentFragmentStart&&this.createJobFragment(m[t],c,n)}),c}static scheduleDeliveryTime(e,t,s,i){let n=t;if(s>0){const a={machine:e,start:t,end:n+=s,isWaiting:!0};i.push(a)}return n}allMachines(){return{length:this.machineSpeeds_.length,forEach(e){for(let t=0;t<this.length;++t)e(t,t)},map(e){const t=[];t.length=this.length;for(let s=0;s<this.length;++s)t[s]=e(s,s);return t}}}static singleMachine(e){return{length:1,forEach(t){t(e,0)},map:t=>[t(e,0)]}}computeSchedule(){const s=[],i=this.jobs_.map((e,t)=>({idx:t,numDependencies:e.dependencies.length,dependents:[]}));for(let e=0;e<this.jobs_.length;++e){const t=this.jobs_[e],n=i[e];for(const e of t.dependencies)i[e].dependents.push(n);0===t.dependencies.length&&s.push(n)}const n=this.allMachines(),r=this.jobs_.map(e=>[]),d=this.jobs_.map(e=>-1);let c=0;const l=new t.default(s,(e,t)=>e.idx-t.idx);for(;!l.isEmpty();){const t=l.extractMin(),s=this.jobs_[t.idx],i=s.splitting!==e.JobSplitting.NONE,m=s.dependencies.reduce((e,t)=>{const s=d[t];return Math.max(e,s)},s.releaseTime);let h,p=n;if(s.splitting===e.JobSplitting.MULTIPLE_MACHINES)h=s.preAssignment>=0?s.preAssignment:0;else if(s.preAssignment>=0)p=a.singleMachine(s.preAssignment),h=s.preAssignment;else{let e=Number.MAX_SAFE_INTEGER;for(let t=0;t<this.numMachines_;++t){const n=a.singleMachine(t),r=this.scheduleJob(n,s.size,i,m);r<e&&(p=n,h=t,e=r)}}const o=this.scheduleJob(p,s.size,i,m,r[t.idx]);d[t.idx]=a.scheduleDeliveryTime(h,o,s.deliveryTime,r[t.idx]),++c;for(const e of t.dependents)--e.numDependencies,0===e.numDependencies&&l.add(e)}return c!==this.jobs_.length?"Detected a cycle in the dependency graph.":r}}
},{"./api-types.js":"wVII","./minheap.js":"7QYR"}],"GMe4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeScheduleAsync=o;var e=require("./worker-interface.js"),r=require("./api-types.js");function o(...o){const n=e.workerFactory.createWorker();if((0,r.isSchedulingFailure)(n)){const e=n;return Promise.reject(e)}const s=new Promise((e,o)=>{n.onmessage=(n=>{const s=n.data;(0,r.isSchedulingFailure)(s)?o(s):e(s)}),n.onerror=(e=>{n.terminate();const r="A runtime error occurred in source file "+`${e.filename} (line ${e.lineno}:${e.colno}):\n${e.message}`;o(r)})});return n.postMessage(o),s}
},{"./worker-interface.js":"MSyQ","./api-types.js":"wVII"}],"l+Vh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"JobSplitting",{enumerable:!0,get:function(){return e.JobSplitting}}),Object.defineProperty(exports,"isSchedulingFailure",{enumerable:!0,get:function(){return e.isSchedulingFailure}}),Object.defineProperty(exports,"computeSchedule",{enumerable:!0,get:function(){return r.computeSchedule}}),Object.defineProperty(exports,"computeScheduleAsync",{enumerable:!0,get:function(){return t.computeScheduleAsync}}),require("./bundler-worker-factory.js");var e=require("./api-types.js"),r=require("./scheduling.js"),t=require("./scheduling-async.js");
},{"./bundler-worker-factory.js":"YLIm","./api-types.js":"wVII","./scheduling.js":"aHDr","./scheduling-async.js":"GMe4"}],"aRXx":[function(require,module,exports) {
"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r,t){return o(r)||n(r,t)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(r,t){var e=[],n=!0,o=!1,u=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(a){o=!0,u=a}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return e}function o(r){if(Array.isArray(r))return r}function u(r,e){var n=r;if(void 0!==e)for(var o=0,u=Object.entries(e);o<u.length;o++){var i=t(u[o],2),c=i[0],a=i[1];c in r&&void 0===a||(n[c]=e[c])}return n}function i(e){return Array.isArray(e)?e.map(i):"object"===r(e)&&null!==e?Object.entries(e).reduce(function(r,e){var n=t(e,2),o=n[0],u=n[1];return r[o]=i(u),r},{}):e}function c(r,t){return void 0===r?t:r}function a(r){throw new Error("Unexpected case that should be unreachable: ".concat(r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assignDefined=u,exports.deepClone=i,exports.coalesce=c,exports.unreachableCase=a;
},{}],"B/R2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleUnresolved=g,exports.appendSchedule=y,exports.groupByIntervalAndWaitStatus=b;var e=r(require("@fschopp/project-planning-js")),t=require("./issue-forest"),n=require("./util");function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var i,a=regeneratorRuntime.mark(E);function s(e){return c(e)||u(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e,t){return p(e)||f(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}function p(e){if(Array.isArray(e))return e}function h(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){h(a,r,i,s,o,"next",e)}function o(e){h(a,r,i,s,o,"throw",e)}s(void 0)})}}function g(e,t){return m.apply(this,arguments)}function m(){return(m=v(regeneratorRuntime.mark(function t(r,i){var a,s,o,u,c,l,d,f,p,h,v,g,m,y,b,x,T,M,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,n.assignDefined)(S(),i),s=A(r,a),o=s.jobIdxToExtendedIssue,u=s.machineIdxToContributorIdx,c=s.schedulingInstance,t.next=4,e.computeScheduleAsync(c);case 4:l=t.sent,d=I/a.minutesPerWeek,f=r.map(function(){return[]}),p=function(e){return Math.ceil(a.predictionStartTimeMs+e*a.resolutionMs*d)},h=0;case 9:if(!(h<l.length)){t.next=34;break}for(v=l[h],g=f[o[h].issueIdx],m=!0,y=!1,b=void 0,t.prev=15,x=v[Symbol.iterator]();!(m=(T=x.next()).done);m=!0)M=T.value,_={assignee:a.contributors[u[M.machine]].id,start:p(M.start),end:p(M.end),isWaiting:M.isWaiting},g.push(_);t.next=23;break;case 19:t.prev=19,t.t0=t.catch(15),y=!0,b=t.t0;case 23:t.prev=23,t.prev=24,m||null==x.return||x.return();case 26:if(t.prev=26,!y){t.next=29;break}throw b;case 29:return t.finish(26);case 30:return t.finish(23);case 31:++h,t.next=9;break;case 34:return t.abrupt("return",f);case 35:case"end":return t.stop()}},t,null,[[15,19,23,31],[24,,26,30]])}))).apply(this,arguments)}function y(e,t,r){if(e.issues.length!==t.length)return"The given project plan and the new schedule have a different number of issues.";for(var i=new Intl.Collator("en"),a=(0,n.deepClone)(e),s=function(e){var n=a.issues[e],s=new Map,o=[],u=!0,c=!1,l=void 0;try{for(var d,f=n.issueActivities[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.start<r&&(p.end=Math.min(p.end,r),s.has(p.assignee)?s.get(p.assignee).push(p):s.set(p.assignee,[p]),o.push(p))}}catch(S){c=!0,l=S}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}n.issueActivities=o;var h=function(e){if(s.has(e))return s.get(e);var t=[];return s.set(e,t),t},v=!0,g=!1,m=void 0;try{for(var y,b=t[e][Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var I=y.value;if(!(I.end<=r)){var x=Object.assign({},I,{start:Math.max(I.start,r)}),T=h(I.assignee);T.length>0&&T[T.length-1].end===x.start&&T[T.length-1].isWaiting===x.isWaiting?T[T.length-1].end=x.end:(T.push(x),n.issueActivities.push(x))}}}catch(S){g=!0,m=S}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}n.issueActivities.sort(function(e,t){var n=e.end-t.end;return 0!==n?n:i.compare(e.assignee,t.assignee)})},o=0;o<a.issues.length;++o)s(o);return a}function b(e){var t;!function(e){e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED"}(t||(t={}));for(var r=[],i=function(){var i=s[a],o=[],u=!0,c=!1,l=void 0;try{for(var d,f=E(e,function(e){return e.isWaiting===i})[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,h=p.assignee;o.push({type:t.ADDED,assignee:h,timestamp:p.start,isWaiting:i},{type:t.REMOVED,assignee:h,timestamp:p.end,isWaiting:i})}}catch(T){c=!0,l=T}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}o.sort(function(e,t){return e.timestamp-t.timestamp});for(var v={assignees:[],start:Number.MIN_SAFE_INTEGER,end:Number.MAX_SAFE_INTEGER,isWaiting:!1},g=Number.MIN_SAFE_INTEGER,m=new Map,y=0,b=o;y<b.length;y++){var I=b[y];I.timestamp>g&&(v=_(v,g,m,r,i));var x=(0,n.coalesce)(m.get(I.assignee),0);I.type===t.REMOVED?--x:++x,m.set(I.assignee,x),g=I.timestamp}_(v,g,m,r,i)},a=0,s=[!1,!0];a<s.length;a++)i();return r.sort(function(e,t){return e.start===t.start?+e.isWaiting-+t.isWaiting:e.start-t.start}),r}!function(e){e[e.MAIN=0]="MAIN",e[e.START_TO_START=1]="START_TO_START",e[e.FINISH_TO_FINISH=2]="FINISH_TO_FINISH"}(i||(i={}));var I=10080,x=-1;function T(){return{remainingWaitTimeMs:0,parent:"",splittable:!1,dependencies:[],assignee:""}}function S(){return{minutesPerWeek:2400,resolutionMs:36e5,minActivityDuration:1,predictionStartTimeMs:Date.now()}}function A(t,r){for(var a=[],o=[],u=0,c=new Map,d={machineSpeeds:[],jobs:[],minFragmentSize:r.minActivityDuration*r.minutesPerWeek},f=0;f<r.contributors.length;++f){var p=r.contributors[f];c.set(p.id,f);var h=(0,n.coalesce)(p.numMembers,1);o.length=u+h,o.fill(f,u,u+h),d.machineSpeeds.length=u+h,d.machineSpeeds.fill(p.minutesPerWeek,u,u+h),u+=h}var v=!0,g=!1,m=void 0;try{for(var y,b=M(t)[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var I=l(y.value,2),x=I[0],T=I[1],S=void 0,A=x.issue,_=void 0!==x.parent?[x.parent.issue.startToStartDummyJobIdx]:[];switch(T){case i.START_TO_START:_.push.apply(_,s(x.dependencies.map(function(e){return e.issue.asDependencyJobIdx}))),S={size:0,dependencies:_};break;case i.FINISH_TO_FINISH:S={size:0,dependencies:x.children.map(function(e){return e.issue.asDependencyJobIdx}).concat(x.issue.jobIdx)};break;case i.MAIN:0===x.children.length&&_.push.apply(_,s(x.dependencies.map(function(e){return e.issue.asDependencyJobIdx}))),S={size:Math.ceil(A.remainingEffortMs/r.resolutionMs)*r.minutesPerWeek,deliveryTime:Math.ceil(A.remainingWaitTimeMs/r.resolutionMs),splitting:A.splittable?e.JobSplitting.MULTIPLE_MACHINES:e.JobSplitting.PREEMPTION,dependencies:_,preAssignment:A.assignee.length>0?c.get(A.assignee):void 0};break;default:return(0,n.unreachableCase)(T)}a.push(x.issue),d.jobs.push(S)}}catch(E){g=!0,m=E}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}return{jobIdxToExtendedIssue:a,machineIdxToContributorIdx:o,schedulingInstance:d}}function M(e){var r=e.map(function(e,t){return Object.assign({},(0,n.assignDefined)(T(),e),{issueIdx:t,jobIdx:x,startToStartDummyJobIdx:x,asDependencyJobIdx:x})}),a=[];a.length=r.length;var s=[];(0,t.traverseIssueForest)((0,t.makeForest)(r),function(e){a[e.index]=e,e.children.length>0&&s.push([e,i.START_TO_START],[e,i.FINISH_TO_FINISH])});for(var o=0,u=a;o<u.length;o++){var c=(p=u[o]).issue;c.startToStartDummyJobIdx=c.asDependencyJobIdx=c.jobIdx=s.length,s.push([p,i.MAIN])}e:for(var d=0;d<s.length;++d){var f=l(s[d],2),p=f[0],h=f[1],v=p.issue;switch(h){case i.START_TO_START:v.startToStartDummyJobIdx=d;break;case i.FINISH_TO_FINISH:v.asDependencyJobIdx=d;break;case i.MAIN:break e;default:return(0,n.unreachableCase)(h)}}return s}function _(e,t,r,i,a){var s=!1,o=!0,u=!1,c=void 0;try{for(var d,f=e.assignees[Symbol.iterator]();!(o=(d=f.next()).done);o=!0){var p=d.value;if((0,n.coalesce)(r.get(p),0)<=0){s=!0;break}}}catch(T){u=!0,c=T}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}var h=[],v=!0,g=!1,m=void 0;try{for(var y,b=r.entries()[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var I=l(y.value,2),x=I[0];I[1]>0&&h.push(x)}}catch(T){g=!0,m=T}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}return(s=s||e.assignees.length!==h.length)?(e.assignees.length>0&&(e.end=t,i.push(e)),h.sort(),{assignees:h,start:t,end:Number.MAX_SAFE_INTEGER,isWaiting:a}):e}function E(e,t){var n,r,i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=!0,r=!1,i=void 0,a.prev=3,s=e[Symbol.iterator]();case 5:if(n=(o=s.next()).done){a.next=13;break}if(u=o.value,!t(u)){a.next=10;break}return a.next=10,u;case 10:n=!0,a.next=5;break;case 13:a.next=19;break;case 15:a.prev=15,a.t0=a.catch(3),r=!0,i=a.t0;case 19:a.prev=19,a.prev=20,n||null==s.return||s.return();case 22:if(a.prev=22,!r){a.next=25;break}throw i;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}},a,null,[[3,15,19,27],[20,,22,26]])}
},{"@fschopp/project-planning-js":"l+Vh","./issue-forest":"axuK","./util":"aRXx"}],"Mq/R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPeriodIssueCustomField=s,exports.isSingleUserIssueCustomField=i,exports.isSingleEnumIssueCustomField=u,exports.isStateIssueCustomField=r,exports.hubPath=exports.youTrackPath=void 0;var e=Object.freeze({ACTIVITIES_PAGE:"api/activitiesPage",CUSTOM_FIELD:function(e){return"api/admin/customFieldSettings/customFields/".concat(e)},ISSUES:function(e){return"api/savedQueries/".concat(e,"/issues")},SAVED_QUERY:function(e){return"api/savedQueries/".concat(e)},SORTED_ISSUES:"api/sortedIssues",STATE_BUNDLES:"api/admin/customFieldSettings/bundles/state",WORK_TIME_SETTINGS:"api/admin/timeTrackingSettings/workTimeSettings"});exports.youTrackPath=e;var t=Object.freeze({OAUTH:"api/rest/oauth2/auth"});function s(e){return"PeriodIssueCustomField"===e.$type}function i(e){return"SingleUserIssueCustomField"===e.$type}function u(e){return"SingleEnumIssueCustomField"===e.$type}function r(e){return"StateIssueCustomField"===e.$type}exports.hubPath=t;
},{}],"Co3M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.goToOauthPage=l,exports.handlePotentialOauthRedirect=f,exports.authorizationFor=p;var e=t(require("./you-track-rest"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function r(e,t){return o(e)||a(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}function o(e){if(Array.isArray(e))return e}var i="@fschopp/you-track-planning-js",c={};function s(e){return"".concat(i,"/oauth").concat(e)}function u(e){return new URL(e).toString()}function l(t,n,a,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.location.href,c=u(t),l=u(n),f=new URL(i);f.hash="",f.username="",f.password="",f.search="";var p="".concat(Date.now().toString(),"_").concat(Math.floor(1e4*Math.random())),h=new URL(e.hubPath.OAUTH,l);Object.entries({response_type:"token",state:p,redirect_uri:f.toString(),request_credentials:"default",client_id:a,scope:"YouTrack"}).forEach(function(e){var t=r(e,2),n=t[0],a=t[1];return h.searchParams.append(n,a)});var d={baseUrl:c,appState:o};sessionStorage.setItem(s(p),JSON.stringify(d)),window.location.href=h.toString()}function f(){var e=new URL(window.location.href),t=new URLSearchParams(e.hash.slice(1)),r=t.get("state");if(null!==r){var n=s(r),a=sessionStorage.getItem(n);if(null!==a){var o=JSON.parse(a);sessionStorage.removeItem(n);var i=t.get("access_token"),u=t.get("expires_in"),l=t.get("token_type");if(null!==i&&null!==u&&null!==l){var f=Date.now()+1e3*parseInt(u,10);return c[o.baseUrl]={type:l,secret:i,validUntil:f},e.hash="",window.history.replaceState(void 0,"",e.toString()),o.appState}}}}function p(e){var t=u(e);if(t in c){var r=c[t];if(!(Date.now()>=r.validUntil))return"".concat(r.type," ").concat(r.secret);delete c[t]}}
},{"./you-track-rest":"Mq/R"}],"RdUT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.httpGet=l,exports.httpGetAll=h,exports.httpGetAllWithOptions=d;var r=require("./you-track-oauth");function e(r){return o(r)||n(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function o(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function a(r,e,t,n,o,a,i){try{var u=r[a](i),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(n,o)}function i(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function u(r){a(i,n,o,u,c,"next",r)}function c(r){a(i,n,o,u,c,"throw",r)}u(void 0)})}}function u(r,e){return p(r)||s(r,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(r,e){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}function p(r){if(Array.isArray(r))return r}function f(r){return r&&"string"==typeof r.error&&"string"==typeof r.error_description}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,r.authorizationFor)(e);if(void 0===o){var a="No valid unexpired OAuth token available for ".concat(e,".");return Promise.reject(a)}var i=new URL(t,e),c=i.searchParams;Object.entries(n).forEach(function(r){var e=u(r,2),t=e[0],n=e[1];return c.append(t,n)});var s=new XMLHttpRequest;s.open("GET",i.toString()),s.setRequestHeader("Authorization",o),s.setRequestHeader("Accept","application/json"),s.responseType="json";var p=new Promise(function(r,e){s.onloadend=function(){return g(i,s,r,e)}});return s.send(),p}function h(r,e,t,n){return v.apply(this,arguments)}function v(){return(v=i(regeneratorRuntime.mark(function r(t,n,o,a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",d(t,n,o,a,function(r,t){return t.push.apply(t,e(r)),t},[]));case 1:case"end":return r.stop()}},r)}))).apply(this,arguments)}function d(r,e,t,n,o,a){return y.apply(this,arguments)}function y(){return(y=i(regeneratorRuntime.mark(function r(e,t,n,o,a,i){var u,c,s,p,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:u=0,c=!0,n.$top=o.toString(),s=l(e,t,n),p=i;case 5:return r.next=7,s;case 7:f=r.sent,u+=f.length,f.length>=o?(n.$skip=u.toString(),s=l(e,t,n)):c=!1,p=a(f,p);case 11:if(c){r.next=5;break}case 12:return r.abrupt("return",p);case 13:case"end":return r.stop()}},r)}))).apply(this,arguments)}function g(r,e,t,n){var o,a=e.response;if(null===a)o="The YouTrack server could not be reached (URL: ".concat(r,"). Please check your network connection.");else if(f(a))o="The YouTrack server returned the following error (URL: ".concat(r,"): ").concat(a.error_description);else{if(200===e.status)return void t(a);o="The YouTrack server returned an unexpected error (URL: ".concat(r,", HTTP status: ").concat(e.status,").")}n(o)}
},{"./you-track-oauth":"Co3M"}],"jNDw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retrieveProjectPlan=p,exports.getMinutesPerWorkWeek=m;var e=require("./util"),t=require("./you-track-http"),i=r(require("./you-track-rest"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function s(e){return u(e)||n(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),e}function l(e,t,i,r,s,a,n){try{var u=e[a](n),o=u.value}catch(d){return void i(d)}u.done?t(o):Promise.resolve(o).then(r,s)}function v(e){return function(){var t=this,i=arguments;return new Promise(function(r,s){var a=e.apply(t,i);function n(e){l(a,r,s,n,u,"next",e)}function u(e){l(a,r,s,n,u,"throw",e)}n(void 0)})}}function p(t,i,r){var s=(0,e.assignDefined)(f(),i),a=(0,e.assignDefined)(I(),r);return new g(t,s,a).promise}function m(e){return h.apply(this,arguments)}function h(){return(h=v(regeneratorRuntime.mark(function e(r){var s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={fields:y.WORK_TIME_SETTINGS},e.next=3,(0,t.httpGet)(r,i.youTrackPath.WORK_TIME_SETTINGS,s);case 3:return a=e.sent,e.abrupt("return",a.daysAWeek*a.minutesADay);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return{remainingEffortFieldId:"",remainingWaitFieldId:"",assigneeFieldId:"",otherCustomFieldIds:[],doesInwardDependOnOutward:!0,overlaySavedQueryId:"",minStateChangeDurationMs:0,defaultRemainingEffortMs:0,defaultWaitTimeMs:0,isSplittableFn:function(){return!1}}}function I(){return{progressCallback:function(){},omitIssueActivities:!1,progressUpdateIntervalMs:200,restBatchSize:100}}var y,S,_="CustomFieldCategory";!function(e){e.SORTED_ISSUES="count",e.CUSTOM_FIELD="fieldDefaults(bundle(id))",e.STATE_BUNDLES="id,values(id,name,isResolved)",e.SAVED_QUERY_NAME="name",e.ISSUES="created,customFields(projectCustomField(field(id)),value(id,minutes,name)),id,idReadable,links(direction,issues(id,idReadable),linkType(id)),parent(issues(id,idReadable)),resolved,subtasks(issues(id,idReadable)),summary,updated",e.OVERLAY_ORDER="id",e.ACTIVITIES_PAGE="afterCursor,hasAfter,activities(added(id,name,isResolved),field(id),removed(id,name,isResolved),target(id),timestamp)",e.WORK_TIME_SETTINGS="minutesADay,daysAWeek"}(y||(y={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE"}(S||(S={}));var g=function(){function e(t,i,r){o(this,e),this.issues_=[],this.idToIssueMap_=new Map,this.lowerCaseNameToActiveState_={},this.numIssues_=0,this.savedQueryName_="",this.numTasksWithDetails_=0,this.minTimeStamp_=0,this.maxUpdateTimeStamp_=0,this.maxActivityTimeStamp_=0,this.lastProgressUpdate_=0,this.baseUrl_=t,this.config_=i,this.options_=r,this.dependsOnDirection_=this.config_.doesInwardDependOnOutward?"INWARD":"OUTWARD",this.idToActiveState_=i.inactiveStateIds.reduce(function(e,t){return e.set(t,S.INACTIVE)},new Map),this.projectPlan_={issues:[],warnings:[]},this.promise=this.run()}return c(e,[{key:"run",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveNumIssues();case 2:return e.next=4,this.retrieveSavedQueryName();case 4:if(this.options_.omitIssueActivities){e.next=10;break}return e.next=7,this.getStateBundleId();case 7:return t=e.sent,e.next=10,this.buildIdToActiveStateMap(t);case 10:return this.progressUpdate(),e.next=13,this.retrieveIssues();case 13:return e.next=15,this.retrieveOverlayOrder();case 15:if(this.options_.omitIssueActivities){e.next=18;break}return e.next=18,this.retrieveActivities();case 18:return this.finalizeSchedule(),e.abrupt("return",this.projectPlan_);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"progressUpdate",value:function(){if(!(Date.now()-this.lastProgressUpdate_<this.options_.progressUpdateIntervalMs)){var e=0;this.numIssues_>0&&(e=1+9*Math.min(1,this.numTasksWithDetails_/this.numIssues_),this.minTimeStamp_>0?e+=90*Math.min(1,(this.maxActivityTimeStamp_-this.minTimeStamp_)/(this.maxUpdateTimeStamp_-this.minTimeStamp_)):this.options_.omitIssueActivities&&(e*=10)),this.lastProgressUpdate_=Date.now(),this.options_.progressCallback(e)}}},{key:"newHttpRequest",value:function(e,i){return(0,t.httpGet)(this.baseUrl_,e,i)}},{key:"getAll",value:function(e,i,r){return(0,t.httpGetAllWithOptions)(this.baseUrl_,e,i,this.options_.restBatchSize,r,void 0)}},{key:"retrieveNumIssues",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={folderId:this.config_.savedQueryId,fields:y.SORTED_ISSUES},e.next=3,this.newHttpRequest(i.youTrackPath.SORTED_ISSUES,t);case 3:r=e.sent,this.numIssues_=r.count;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getStateBundleId",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:y.CUSTOM_FIELD},e.next=3,this.newHttpRequest(i.youTrackPath.CUSTOM_FIELD(this.config_.stateFieldId),t);case 3:return r=e.sent,e.abrupt("return",r.fieldDefaults.bundle.id);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"retrieveSavedQueryName",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:y.SAVED_QUERY_NAME},e.next=3,this.newHttpRequest(i.youTrackPath.SAVED_QUERY(this.config_.savedQueryId),t);case 3:r=e.sent,this.savedQueryName_=r.name;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"buildIdToActiveStateMap",value:function(){var e=v(regeneratorRuntime.mark(function e(t){var r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={fields:y.STATE_BUNDLES},e.next=3,this.getAll(i.youTrackPath.STATE_BUNDLES,r,function(e){var i=!0,r=!1,a=void 0;try{for(var n,u=e[Symbol.iterator]();!(i=(n=u.next()).done);i=!0){var o=n.value,d=o.id===t,c=!0,l=!1,v=void 0;try{for(var p,m=o.values[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=p.value;h.isResolved?s.idToActiveState_.set(h.id,S.INACTIVE):d&&!s.config_.inactiveStateIds.includes(h.id)&&s.idToActiveState_.set(h.id,S.ACTIVE),d&&(s.lowerCaseNameToActiveState_[h.name.toLowerCase()]=s.idToActiveState_.get(h.id))}}catch(f){l=!0,v=f}finally{try{c||null==m.return||m.return()}finally{if(l)throw v}}}}catch(f){r=!0,a=f}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseIssueCustomFields",value:function(e,t){var r=this,s=!0,a=!1,n=void 0;try{for(var u,o=function(){var t=u.value,s=t.projectCustomField.field.id;switch(s){case r.config_.remainingEffortFieldId:i.isPeriodIssueCustomField(t)&&null!==t.value&&(e.remainingEffortMs=60*t.value.minutes*1e3);break;case r.config_.remainingWaitFieldId:i.isPeriodIssueCustomField(t)&&null!==t.value&&(e.remainingWaitTimeMs=60*t.value.minutes*1e3);break;case r.config_.assigneeFieldId:i.isSingleUserIssueCustomField(t)&&null!==t.value&&(e.assignee=t.value.id);break;case r.config_.stateFieldId:i.isStateIssueCustomField(t)&&null!==t.value&&(e.state=t.value.id,e.activeState=r.stateBundleElementIdToActiveState(t.value));break;default:i.isSingleEnumIssueCustomField(t)&&null!==t.value&&r.config_.otherCustomFieldIds.find(function(e){return e===s})&&(e.customFields[s]=t.value.id)}},d=t.customFields[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)o()}catch(c){a=!0,n=c}finally{try{s||null==d.return||d.return()}finally{if(a)throw n}}}},{key:"retrieveIssues",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:y.ISSUES},e.next=3,this.getAll(i.youTrackPath.ISSUES(this.config_.savedQueryId),t,function(e){var t=!0,i=!1,a=void 0;try{for(var n,u=e[Symbol.iterator]();!(t=(n=u.next()).done);t=!0){var o=n.value,d={id:o.idReadable,remainingEffortMs:r.config_.defaultRemainingEffortMs,remainingWaitTimeMs:r.config_.defaultWaitTimeMs,splittable:!1,dependencies:[],assignee:"",summary:o.summary,issueActivities:[],resolved:null!==o.resolved?o.resolved:Number.MAX_SAFE_INTEGER,state:"",parent:"",customFields:{},internalId:o.id,parentIssueId:o.parent.issues.length>0?{id:o.parent.issues[0].idReadable,internalId:o.parent.issues[0].id}:null,subtaskIssueIds:o.subtasks.issues.map(function(e){return{id:e.idReadable,internalId:e.id}}),dependencyIssueIds:[],activeState:S.UNKNOWN,stateTransitions:[{timestamp:o.created,activeState:S.UNKNOWN}],lastUpdate:o.updated};r.issues_.push(d),r.idToIssueMap_.set(o.id,d),r.parseIssueCustomFields(d,o);var c=!0,l=!1,v=void 0;try{for(var p,m=o.links[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h,f=p.value;if(f.direction===r.dependsOnDirection_&&f.linkType.id===r.config_.dependsLinkTypeId)(h=d.dependencyIssueIds).push.apply(h,s(f.issues.map(function(e){return{id:e.idReadable,internalId:e.id}})))}}catch(I){l=!0,v=I}finally{try{c||null==m.return||m.return()}finally{if(l)throw v}}++r.numTasksWithDetails_,r.maxUpdateTimeStamp_=Math.max(r.maxUpdateTimeStamp_,o.updated)}}catch(I){i=!0,a=I}finally{try{t||null==u.return||u.return()}finally{if(i)throw a}}r.progressUpdate()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"retrieveOverlayOrder",value:function(){var e=v(regeneratorRuntime.mark(function e(){var r,s,a,n,u,o,d,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.config_.overlaySavedQueryId.length){e.next=2;break}return e.abrupt("return");case 2:return r={fields:y.OVERLAY_ORDER},e.next=5,(0,t.httpGetAll)(this.baseUrl_,i.youTrackPath.ISSUES(this.config_.overlaySavedQueryId),r,this.options_.restBatchSize);case 5:for(s=e.sent,a=s.map(function(e){return e.id}).filter(function(e){return c.idToIssueMap_.has(e)}),n=a.reduce(function(e,t,i){return e.set(t,i)},new Map),u=0,o=0;u<this.issues_.length&&o<a.length;)d=this.issues_[u],n.has(d.internalId)&&(this.issues_[u]=this.idToIssueMap_.get(a[o]),++o),++u;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"retrieveActivities",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t,r,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={fields:y.ACTIVITIES_PAGE,categories:_,issueQuery:"saved search: {".concat(this.savedQueryName_,"}"),$top:this.options_.restBatchSize.toString()},r=!0,s=this.newHttpRequest(i.youTrackPath.ACTIVITIES_PAGE,t);case 3:return e.next=5,s;case 5:(a=e.sent).hasAfter?(t.cursor=a.afterCursor,s=this.newHttpRequest(i.youTrackPath.ACTIVITIES_PAGE,t)):r=!1,this.parseActivityItems(a.activities),this.progressUpdate();case 9:if(r){e.next=3;break}case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stateBundleElementIdToActiveState",value:function(e){var t;if(void 0===(t=e instanceof Array?e.length>0?e[0]:void 0:e))return S.UNKNOWN;if(t.isResolved)return S.INACTIVE;if(this.idToActiveState_.has(t.id))return this.idToActiveState_.get(t.id);var i=t.name.toLowerCase();return i in this.lowerCaseNameToActiveState_?this.lowerCaseNameToActiveState_[i]:S.UNKNOWN}},{key:"addStateTransition",value:function(e,t,i){for(var r=e,s=r.length,a=this.config_.minStateChangeDurationMs;s>0&&r[s-1].timestamp>=t.timestamp;)r.pop(),--s;s>0&&r[s-1].activeState===S.UNKNOWN&&(r[s-1].activeState=i!==S.UNKNOWN?i:S.ACTIVE,1===s&&r[0].activeState===S.INACTIVE||s>1&&r[s-1].activeState===r[s-2].activeState?(r.pop(),--s):s>2&&r[s-2].activeState===S.INACTIVE&&r[s-2].timestamp-r[s-3].timestamp<a&&(r.length-=2,s-=2)),s>1&&r[s-1].activeState===S.INACTIVE&&r[s-1].timestamp-r[s-2].timestamp<a&&t.timestamp-r[s-1].timestamp>=a&&(r.length-=2,s-=2),s>0&&t.activeState===r[s-1].activeState||(s>1&&t.activeState===S.ACTIVE&&t.timestamp-r[s-1].timestamp<a?r.pop():(s>0||t.activeState!==S.INACTIVE)&&r.push(t))}},{key:"parseActivityItems",value:function(e){e.length>0&&(0===this.minTimeStamp_&&(this.minTimeStamp_=e[0].timestamp),this.maxActivityTimeStamp_=Math.max(this.maxActivityTimeStamp_,e[e.length-1].timestamp));var t=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var n=s.value;if(n.field.id===this.config_.stateFieldId){var u=this.idToIssueMap_.get(n.target.id);if(void 0===u)continue;var o={timestamp:n.timestamp,activeState:this.stateBundleElementIdToActiveState(n.added)};this.addStateTransition(u.stateTransitions,o,this.stateBundleElementIdToActiveState(n.removed))}}}catch(d){i=!0,r=d}finally{try{t||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"finalizeSchedule",value:function(){var e=!0,t=!1,i=void 0;try{for(var r,s=this.issues_[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;this.options_.omitIssueActivities||this.finalizeIssueActivities(a);var n="";null!==a.parentIssueId&&(this.idToIssueMap_.has(a.parentIssueId.internalId)?n=a.parentIssueId.id:this.projectPlan_.warnings.push({description:"Issue ".concat(a.id," is a subtask of ").concat(a.parentIssueId.id,", which is not contained ")+"in saved search “".concat(this.savedQueryName_,"”."),issueId:a.id}));var u=[],o=[],d=!0,c=!1,l=void 0;try{for(var v,p=a.dependencyIssueIds[Symbol.iterator]();!(d=(v=p.next()).done);d=!0){var m=v.value;(this.idToIssueMap_.has(m.internalId)?u:o).push(m.id)}}catch(b){c=!0,l=b}finally{try{d||null==p.return||p.return()}finally{if(c)throw l}}o.length>0&&this.projectPlan_.warnings.push({description:"Issue ".concat(a.id," depends on ").concat(o.join(", "),", which is/are not ")+"contained in saved search “".concat(this.savedQueryName_,"”."),issueId:a.id});var h=a.resolved===Number.MAX_SAFE_INTEGER?a.remainingEffortMs:0,f=[],I=!0,y=!1,S=void 0;try{for(var _,g=a.subtaskIssueIds[Symbol.iterator]();!(I=(_=g.next()).done);I=!0){var T=_.value,A=this.idToIssueMap_.get(T.internalId);void 0!==A?h=Math.max(0,h-A.remainingEffortMs):f.push(T.id)}}catch(b){y=!0,S=b}finally{try{I||null==g.return||g.return()}finally{if(y)throw S}}f.length>0&&this.projectPlan_.warnings.push({description:"Issue ".concat(a.id," is a parent for ").concat(f.join(", "),", which is/are not ")+"contained in saved search “".concat(this.savedQueryName_,"”."),issueId:a.id});var E={id:a.id,summary:a.summary,issueActivities:a.issueActivities,resolved:a.resolved,state:a.state,assignee:a.assignee,parent:n,customFields:a.customFields,remainingEffortMs:h,remainingWaitTimeMs:a.resolved===Number.MAX_SAFE_INTEGER?a.remainingWaitTimeMs:0,splittable:a.splittable,dependencies:u};E.splittable=this.config_.isSplittableFn(E),this.projectPlan_.issues.push(E)}}catch(b){t=!0,i=b}finally{try{e||null==s.return||s.return()}finally{if(t)throw i}}}},{key:"finalizeIssueActivities",value:function(e){var t={timestamp:e.lastUpdate,activeState:e.activeState};this.addStateTransition(e.stateTransitions,t,e.activeState);var i={timestamp:Number.MAX_SAFE_INTEGER,activeState:e.activeState===S.UNKNOWN?S.ACTIVE:e.activeState};this.addStateTransition(e.stateTransitions,i,S.ACTIVE);for(var r=e.stateTransitions,s=r.length,a=0;a<s;a+=2)e.issueActivities.push({assignee:e.assignee,start:r[a].timestamp,end:a<s-1?r[a+1].timestamp:Number.MAX_SAFE_INTEGER,isWaiting:!1})}}]),e}();
},{"./util":"aRXx","./you-track-http":"RdUT","./you-track-rest":"Mq/R"}],"wjqq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api-types");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./issue-forest");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./scheduling");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./you-track-http");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./you-track-project-planning");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./you-track-oauth");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});
},{"./api-types":"K170","./issue-forest":"axuK","./scheduling":"B/R2","./you-track-http":"RdUT","./you-track-project-planning":"jNDw","./you-track-oauth":"Co3M"}],"EWEi":[function(require,module,exports) {
"use strict";var e=require("assert"),t=require("../main");function n(e){return i(e)||a(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,u,"next",e)}function u(e){o(i,r,a,l,u,"throw",e)}l(void 0)})}}var u,c="src",s=Object.freeze(["success","warning"]),d=document.getElementById("feedback"),f=d.querySelector("strong"),v=d.querySelector("span"),m=document.getElementById("baseUrl"),g=document.getElementById("hubUrl"),h=document.getElementById("serviceId"),p=document.getElementsByClassName("hubIntegrationLink"),y=document.getElementById("currentUri"),b=document.getElementById("currentOrigin"),w=document.getElementById("hubConfiguration"),S=document.getElementById("globalSettingsLink"),I=document.getElementById("btnConnect"),T=document.getElementById("customFields"),E=document.getElementById("savedQueries"),k=document.getElementById("issueLinkTypes"),L=document.getElementById("users"),U=document.getElementById("minutesPerWorkWeek"),x=document.getElementById("youTrackConfig"),R=document.getElementById("schedulingOptions"),O=document.getElementById("isSplittableFn"),B=document.getElementById("btnPast"),P=document.getElementById("btnFuture"),F=document.getElementById("progressBar"),A=document.getElementById("output"),N="",C=j(m.value);function j(e){try{var t=new URL(e);return 0===t.host.length?"":(0!==t.pathname.length&&"/"===t.pathname.charAt(t.pathname.length-1)||(t.pathname=t.pathname.concat("/")),t.toString())}catch(n){if(!(n instanceof TypeError))throw n;return""}}function M(){var e;try{e=JSON.parse(x.value)}catch(t){return void K("Parsing YouTrackConfig failed.","The text field does not contain valid JSON. Problem: ".concat(t.message),"warning")}try{return e.isSplittableFn=new Function("issue",O.value),e}catch(t){return void K("Parsing isSplittableFn failed.","The text field does not contain a valid JavaScript function body. Problem: ".concat(t.message),"warning")}}function D(){try{return JSON.parse(R.value)}catch(e){return void K("Parsing SchedulingOptions failed.","The text field does not contain valid JSON. Problem: ".concat(e.message),"warning")}}function J(t){(0,e.strict)(0===t.length||t.endsWith("/"));var n,r=t.match(/^(https:\/\/[^.\/]*\.myjetbrains\.com\/)youtrack\/$/),a=!1;return null!==r?(n="".concat(r[1],"hub"),a=!0):n=t.length>0?"".concat(t,"hub"):"",{hubUrl:n,isInCloudUrl:a}}function W(){var e=j(m.value),t=J(e),n=t.hubUrl,r=t.isInCloudUrl;g.disabled=r,(""===g.value||r||g.value===J(C).hubUrl)&&(C=e,g.value=n)}function q(e,t){for(var n=e.length,r=0;r<n;++r)t(e.item(r))}function H(){var e=j(m.value);e.length>0?(q(p,function(t){return t.setAttribute("href",new URL("admin/ring",e).toString())}),S.setAttribute("href",new URL("admin/settings",e).toString())):(q(p,function(e){return e.removeAttribute("href")}),S.removeAttribute("href")),e.length>0&&h.value.length>0?w.setAttribute("href",new URL("admin/hub/services/".concat(h.value,"?tab=settings"),e).toString()):w.removeAttribute("href");var t=j(g.value);I.disabled=0===e.length||0===t.length||0===h.value.length}function Q(){return{baseUrl:m.value,hubUrl:g.value,serviceId:h.value,youTrackInstance:x.value,schedulingOptions:R.value,isSplittableFn:O.value}}function Y(){(0,t.goToOauthPage)(j(m.value),j(g.value),h.value,Q())}function $(e,t,n){return G.apply(this,arguments)}function G(){return(G=l(regeneratorRuntime.mark(function e(n,r,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.httpGetAll)(n,r,{fields:a},100);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t,n,r,a,i){var o="",l=!0,u=!1,c=void 0;try{for(var s,d=t[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var f=s.value;if(o+="<li>".concat(f.id,": ").concat(f.name),"state[1]"===f.fieldType.id){var v=f.fieldDefaults;if(v&&v.bundle&&v.bundle.values){var m=f.fieldDefaults.bundle.values.sort(function(e,t){return e.ordinal-t.ordinal});o+="<ul>";var g=!0,h=!1,p=void 0;try{for(var y,b=m[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;o+="<li>".concat(w.id,": ").concat(w.name),w.isResolved&&(o+=" (resolved)"),o+="</li>"}}catch(A){h=!0,p=A}finally{try{g||null==b.return||b.return()}finally{if(h)throw p}}o+="</ul>"}}else if("enum[1]"===f.fieldType.id){var S=f.fieldDefaults;if(S&&S.bundle&&S.bundle.values){var I=f.fieldDefaults.bundle.values.sort(function(e,t){return e.ordinal-t.ordinal});o+="<ul>";var x=!0,R=!1,O=void 0;try{for(var B,P=I[Symbol.iterator]();!(x=(B=P.next()).done);x=!0){var F=B.value;o+="<li>".concat(F.id,": ").concat(F.name)}}catch(A){R=!0,O=A}finally{try{x||null==P.return||P.return()}finally{if(R)throw O}}o+="</ul>"}}o+="</li>"}}catch(A){u=!0,c=A}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}T.innerHTML=o,E.innerHTML=n.map(function(e){return"<li>".concat(e.id,": ").concat(e.name," (").concat(e.owner.fullName,")</li>")}).join("");k.innerHTML=r.map(function(e){return"<li>".concat(e.id,": ").concat(e.name).concat(function(e){return e.directed?" (".concat(e.sourceToTarget," → ").concat(e.targetToSource,")"):""}(e),"</li>")}).join(""),L.innerHTML=a.map(function(t){return"<li>"+'<img src="'.concat(new URL(t.avatarUrl,e).toString(),'" ')+'width="24" height="24" alt="'.concat(t.fullName,'"/> ').concat(t.id,": ").concat(t.fullName)+"</li>"}).join(""),U.textContent=i.toString()}function z(){var e=new URL(window.location.href);return e.hash="",e.username="",e.password="",e.search="",e}function X(){var e=z();return e.pathname="",e}function K(e,t,r){var a;f.innerText=e,v.innerText=t,(a=d.classList).remove.apply(a,n(s.map(function(e){return"alert-".concat(e)}))),d.classList.add("alert-".concat(r)),d.classList.toggle("show",!0)}function V(){d.classList.toggle("show",!1)}function Z(){var e,t,n,r,a=JSON.stringify(Q());window.location.replace("#".concat(c,"=").concat(encodeURIComponent(a))),N=window.location.hash;try{e=decodeURIComponent(N)}catch(i){}void 0===e||e.slice(2+c.length)!==a?(t="Sharing failed.",n="Text buffer too large to share.",r="warning"):(t="Sharable URL created.",n="Shareable link now in address bar.",r="success"),K(t,n,r)}function ee(e){m.value=e.baseUrl,g.value=e.hubUrl,h.value=e.serviceId,C=j(e.baseUrl),W(),H(),x.value=e.youTrackInstance,R.value=e.schedulingOptions,O.value=e.isSplittableFn}function te(){if(window.location.hash!==N){var e=new URLSearchParams(window.location.hash.slice(1)),t=new Map(e.entries()).get(c);if(void 0!==t)try{ee(JSON.parse(decodeURIComponent(t)))}catch(n){return void K("Invalid URL.","Cannot parse the given URL.","warning")}}else N=""}function ne(e){if((0,t.isFailure)(e))throw e;return e}function re(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.issues[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.resolved!==Number.MAX_SAFE_INTEGER&&(o.$resolved=new Date(o.resolved).toISOString());var l=!0,u=!1,c=void 0;try{for(var s,d=o.issueActivities[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var f=s.value,v=f;v.$start=new Date(f.start).toISOString(),v.$end=new Date(f.end).toISOString()}}catch(m){u=!0,c=m}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}}catch(m){n=!0,r=m}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=l(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==u){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,t.scheduleUnresolved)(u.issues,n);case 5:r=e.sent,re(a=ne((0,t.appendSchedule)(u,r,Date.now()))),A.textContent=JSON.stringify(a,null,2),V(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),(0,t.isFailure)(e.t0)?K("Project planning failed.",e.t0,"warning"):K("Project planning failed.","The scheduling options may not be valid. Problem (".concat(e.t0.name,"): ").concat(e.t0.message),"warning");case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function oe(e,t,n){return le.apply(this,arguments)}function le(){return(le=l(regeneratorRuntime.mark(function e(n,r,a){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=function(e){var t=Math.floor(e);F.setAttribute("aria-valuenow",t.toString()),F.style.width="".concat(t,"%")},e.next=4,(0,t.retrieveProjectPlan)(n,r,{progressCallback:i});case 4:u=e.sent,P.disabled=!1,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),(0,t.isFailure)(e.t0)?K("Reconstructing project plan failed.",e.t0,"warning"):K("Reconstructing project plan failed.","The YouTrack configuration may not be valid. Problem (".concat(e.t0.name,"): ").concat(e.t0.message),"warning"),e.abrupt("return");case 12:return e.next=14,ae(a);case 14:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function ue(){var e=j(m.value),t=M(),n=D();0!==e.length&&void 0!==t&&void 0!==n&&(F.parentNode.classList.remove("d-none"),B.disabled=!0,P.disabled=!0,oe(e,t,n).finally(function(){F.parentNode.classList.add("d-none"),F.setAttribute("aria-valuenow","0"),F.style.width="0",B.disabled=!1,P.disabled=void 0===u}))}function ce(){var e=D();void 0!==e&&(B.disabled=!0,P.disabled=!0,ae(e).finally(function(){B.disabled=!1,P.disabled=void 0===u}))}function se(){ee({baseUrl:"",hubUrl:"",serviceId:"",youTrackInstance:JSON.stringify({stateFieldId:"1-1",inactiveStateIds:["2-1"],remainingEffortFieldId:"1-2",remainingWaitFieldId:"1-3",assigneeFieldId:"1-4",otherCustomFieldIds:["1-5"],dependsLinkTypeId:"3-1",doesInwardDependOnOutward:!0,savedQueryId:"4-1",overlaySavedQueryId:"4-2",minStateChangeDurationMs:36e5,defaultRemainingEffortMs:0,defaultWaitTimeMs:0},void 0,2),schedulingOptions:JSON.stringify({contributors:[{id:"0-0",minutesPerWeek:2400,numMembers:1}],resolutionMs:36e5,minActivityDuration:1},void 0,2),isSplittableFn:"return issue.customFields['1-5'] === '5-1';"})}function de(e){ee(e);var r=j(m.value);Promise.all([$(r,"api/admin/customFieldSettings/customFields","fieldDefaults(bundle(id,values(id,name,isResolved,ordinal))),fieldType(id),id,name"),$(r,"api/savedQueries","id,name,owner(fullName)"),$(r,"api/issueLinkTypes","directed,id,name,sourceToTarget,targetToSource"),$(r,"api/admin/users","avatarUrl,id,fullName"),(0,t.getMinutesPerWorkWeek)(r)]).then(function(e){return _.apply(void 0,[r].concat(n(e)))}).catch(function(e){(0,t.isFailure)(e)?K("Loading YouTrack settings failed.",e,"warning"):K("Loading YouTrack settings failed.","Problem (".concat(e.name,"): ").concat(e.message),"warning")})}m.addEventListener("input",W),m.addEventListener("input",H),g.addEventListener("input",H),h.addEventListener("input",H),I.onclick=Y,B.onclick=ue,P.onclick=ce,document.getElementById("btnShare").onclick=Z,document.querySelectorAll('button.close[data-dismiss="alert"]').forEach(function(e){var t=e.closest('.alert[role="alert"]');null!==t&&(e.onclick=function(){t.classList.toggle("show",!1)})}),window.onhashchange=te,y.textContent=z().toString(),b.textContent=X().toString();var fe=50;window.setTimeout(function(){var e=(0,t.handlePotentialOauthRedirect)();void 0===e?se():de(e),te()},fe);
},{"assert":"p+dr","../main":"wjqq"}]},{},["EWEi"], null)
//# sourceMappingURL=/project-planning-for-you-track/demo.7987bf13.js.map